{% extends "base.html" %}

{% block content %}
<div class="dashboard-container">
  <header class="dashboard-header">
    <div>
      <h2>System Dashboard</h2>
      <div class="last-updated" id="last-updated">Initial load...</div>
    </div>
    <div class="dashboard-controls">
      <select id="timeWindow">
        <option value="1h">Last 1 hour</option>
        <option value="2h">Last 2 hours</option>
        <option value="6h">Last 6 hours</option>
        <option value="24h" selected>Last 24 hours</option>
        <option value="7d">Last 7 days</option>
      </select>
    </div>
  </header>

  <!-- Quick Glance Section -->
  <section class="stats-overview">
    <div class="stat-card">
      <span class="stat-label">CPU Temp</span>
      <div>
        <span class="stat-value" id="val-cpu-temp">--</span>
        <span class="stat-unit">Â°C</span>
      </div>
    </div>
    <div class="stat-card">
      <span class="stat-label">RAM Usage</span>
      <div>
        <span class="stat-value" id="val-ram-used">--</span>
        <span class="stat-unit">MB</span>
      </div>
    </div>
    <div class="stat-card">
      <span class="stat-label">Load Avg (1m)</span>
      <div>
        <span class="stat-value" id="val-load-1m">--</span>
      </div>
    </div>
    <div class="stat-card">
      <span class="stat-label">Fan Speed</span>
      <div>
        <span class="stat-value" id="val-fan-rpm">--</span>
        <span class="stat-unit">RPM</span>
      </div>
    </div>
  </section>

  <!-- Main Charts Section -->
  <div class="charts-grid">
    <div class="chart-card">
      <h3>ğŸŒ¡ï¸ CPU Temperature</h3>
      <div class="chart-container">
        <canvas id="cpuTempChart"></canvas>
      </div>
    </div>

    <div class="chart-card">
      <h3>ğŸ’¾ RAM Usage</h3>
      <div class="chart-container">
        <canvas id="ramChart"></canvas>
      </div>
    </div>

    <div class="chart-card">
      <h3>âš–ï¸ Load Average</h3>
      <div class="chart-container">
        <canvas id="loadChart"></canvas>
      </div>
    </div>

    <div class="chart-card">
      <h3>ğŸŒ€ Fan Performance</h3>
      <div class="chart-container">
        <canvas id="fanChart"></canvas>
      </div>
    </div>
  </div>

  <!-- Storage Overview Section -->
  <section class="storage-section">
    <h2>ğŸ’½ Storage Overview</h2>
    <div id="storage-grid" class="storage-grid">
      <!-- Dynmically populated -->
      <div class="loading">Fetching storage status...</div>
    </div>
  </section>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="/static/dashboard.js"></script>
{% endblock %}